<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Indrapratha School PT1 Quiz</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; background: #eef2f7; }
    header { background: #003366; color: white; padding: 15px 0; text-align: center; }
    nav { background: #004080; color: white; padding: 10px; text-align: center; }
    nav a { color: white; margin: 0 15px; text-decoration: none; font-weight: bold; }
    .container { margin: 30px auto; padding: 20px; background: white; border-radius: 10px; width: 400px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    .hidden { display: none; }
    input, button { margin-top: 10px; padding: 10px; width: 90%; font-size: 16px; }
    #question-box { margin: 20px 0; font-size: 18px; }
    #options { text-align: left; margin-bottom: 20px; }
    #options label { display: block; margin-bottom: 10px; }
    #timer { font-weight: bold; color: red; }
    footer { background: #003366; color: white; text-align: center; padding: 10px 0; position: fixed; bottom: 0; width: 100%; }
    .correct { color: green; }
    .incorrect { color: red; }
    #leaderboard { margin-top: 20px; }
    #leaderboard ul { list-style: none; padding-left: 0; }
    #leaderboard li { padding: 5px; margin-bottom: 4px; background: #f0f0f0; border-radius: 5px; }
    #leaderboard li:first-child { background: gold; font-weight: bold; }
    #leaderboard li:nth-child(2) { background: silver; font-weight: bold; }
    #leaderboard li:nth-child(3) { background: #cd7f32; font-weight: bold; }
  </style>
</head>
<body>
  <header>
    <h1>Indrapratha School - PT1 Online Quiz</h1>
  </header>
  <nav>
    <a href="#">Home</a>
    <a href="#">Student Login</a>
    <a href="#">Admin Panel</a>
  </nav>

  <div id="login-page" class="container">
    <h2>Login</h2>
    <input type="text" id="username" placeholder="Username (e.g. student1)"><br>
    <input type="password" id="password" placeholder="Password (e.g. student123)"><br>
    <button onclick="login()">Login</button>
  </div>

  <div id="quiz-page" class="container hidden">
    <h2>Quiz</h2>
    <div id="question-box"></div>
    <div id="options"></div>
    <div id="timer">60</div>
  </div>

  <div id="admin-page" class="container hidden">
    <h2>Admin Panel</h2>
    <p>Quiz Information:</p>
    <ul>
      <li>Number of Questions: 10</li>
      <li>Time per Question: 60 seconds</li>
      <li>Participants: 6 Students (student1 to student6)</li>
    </ul>
    <h3>Results:</h3>
    <ul id="results"></ul>
    <h3>Leaderboard:</h3>
    <div id="leaderboard"></div>
  </div>

  <footer>
    <p>&copy; 2025 Indrapratha School. All rights reserved.</p>
  </footer>

  <script>
    const students = ["student1", "student2", "student3", "student4", "student5", "student6"];
    const studentPassword = "student123";

    const questions = [
      { question: "1. What is the color of the sky?", options: ["Blue", "Green", "Red", "Yellow"], answer: "Blue" },
      { question: "2. How many legs does a cat have?", options: ["2", "3", "4", "5"], answer: "4" },
      { question: "3. What do we use to write?", options: ["Pen", "Spoon", "Ball", "Shoes"], answer: "Pen" },
      { question: "4. Which is a fruit?", options: ["Apple", "Car", "Chair", "Fan"], answer: "Apple" },
      { question: "5. What do we drink when we are thirsty?", options: ["Water", "Oil", "Juice", "Ink"], answer: "Water" },
      { question: "6. What is 2 + 2?", options: ["3", "4", "5", "6"], answer: "4" },
      { question: "7. Which animal barks?", options: ["Cat", "Dog", "Elephant", "Cow"], answer: "Dog" },
      { question: "8. What do we wear on our head?", options: ["Shoes", "Hat", "Gloves", "Shirt"], answer: "Hat" },
      { question: "9. What is the opposite of hot?", options: ["Warm", "Cold", "Cool", "Boiling"], answer: "Cold" },
      { question: "10. Which one can fly?", options: ["Fish", "Bird", "Dog", "Cow"], answer: "Bird" }
    ];

    let currentQuestion = 0;
    let timer;
    let timeLeft = 60;
    let score = 0;
    let currentUser = "";
    let answerTrack = [];
    const studentResults = [];

    function login() {
      const user = document.getElementById("username").value.trim();
      const pass = document.getElementById("password").value.trim();
      if (user === "admin" && pass === "admin123") {
        document.getElementById("login-page").classList.add("hidden");
        document.getElementById("admin-page").classList.remove("hidden");
        setTimeout(() => {
          displayResults();
          displayLeaderboard();
        }, 0);
      } else if (students.includes(user) && pass === studentPassword) {
        currentUser = user;
        score = 0;
        currentQuestion = 0;
        answerTrack = [];
        document.getElementById("login-page").classList.add("hidden");
        document.getElementById("quiz-page").classList.remove("hidden");
        showQuestion();
      } else {
        alert("Invalid credentials");
      }
    }

    function showQuestion() {
      if (currentQuestion >= questions.length) {
        alert(`Quiz Finished! Your score: ${score}/10`);
        studentResults.push({ name: currentUser, score: score, details: [...answerTrack] });
        document.getElementById("quiz-page").classList.add("hidden");
        document.getElementById("login-page").classList.remove("hidden");
        displayResults();
        displayLeaderboard();
        return;
      }
      const q = questions[currentQuestion];
      document.getElementById("question-box").innerText = q.question;
      const optionsDiv = document.getElementById("options");
      optionsDiv.innerHTML = "";
      q.options.forEach((opt, index) => {
        const label = document.createElement("label");
        label.innerHTML = `<input type='radio' name='option' value='${opt}' onchange='nextQuestion()'> ${opt}`;
        optionsDiv.appendChild(label);
      });
      timeLeft = 60;
      document.getElementById("timer").innerText = timeLeft;
      clearInterval(timer);
      timer = setInterval(() => {
        timeLeft--;
        document.getElementById("timer").innerText = timeLeft;
        if (timeLeft <= 0) {
          clearInterval(timer);
          nextQuestion();
        }
      }, 1000);
    }

    function nextQuestion() {
      clearInterval(timer);
      const selected = document.querySelector("input[name='option']:checked");
      const correct = questions[currentQuestion].answer;
      const chosen = selected ? selected.value : "No Answer";
      const isCorrect = chosen === correct;
      if (isCorrect) score++;
      answerTrack.push({ q: questions[currentQuestion].question, chosen: chosen, correct: correct, result: isCorrect });
      currentQuestion++;
      setTimeout(showQuestion, 500);
    }

    function displayResults() {
      const resultsList = document.getElementById("results");
      resultsList.innerHTML = "";
      studentResults.forEach(result => {
        const li = document.createElement("li");
        li.innerHTML = `<strong>${result.name}</strong> - Score: ${result.score}/10<ul>` +
          result.details.map(d => `<li>${d.q} <span class='${d.result ? "correct" : "incorrect"}'>(${d.chosen})</span></li>`).join("") +
          `</ul>`;
        resultsList.appendChild(li);
      });
    }

    function displayLeaderboard() {
      const leaderboard = document.getElementById("leaderboard");
      const sorted = [...studentResults].sort((a, b) => b.score - a.score);
      leaderboard.innerHTML = `<ul>` +
        sorted.map((r, i) => `<li>${r.name} - ${r.score}/10</li>`).join("") +
        `</ul>`;
    }
  </script>
</body>
</html>
